{
  "properties": {
    "doc.bigquery-cdcTarget": "# Google BigQuery Delta Target\n\nDescription\n-----------\nThis CDC Target plugin writes to BigQuery. The plugin requires write access to both BigQuery and\na GCS staging bucket. Change events are first written in batches to GCS. They are then loaded into\nstaging tables in BigQuery. Finally, changes from the staging table are merged into the final target\ntable using a BigQuery merge query.\n\nThe final target tables will include all the original columns from the source table plus one additional\n_sequence_num column. The sequence number is used to ensure that data is not duplicated or missed in\nreplicator failure scenarios.\n\nCredentials\n-----------\nIf the plugin is run on a Google Cloud Dataproc cluster, the service account key does not need to be\nprovided and can be set to 'auto-detect'.\nCredentials will be automatically read from the cluster environment.\n\nIf the plugin is not run on a Dataproc cluster, the path to a service account key must be provided.\nThe service account key can be found on the Dashboard in the Cloud Platform Console.\nMake sure the account key has permission to access BigQuery.\nThe service account key file needs to be available on every node in your cluster and\nmust be readable by all users running the job.\n\nLimitations\n-----------\nTables must have a primary key in order to be replicated.\n\nTable rename operations are not supported. If a rename event is encountered, it will be ignored.\n\nTable alters are partially supported. An existing non-nullable column can be altered into a nullable column.\nNew nullable columns can be added to an existing table. Any other type of alteration to the table schema\nwill fail. Changes to the primary key will not fail, but existing data will not rewritten to obey uniqueness\non the new primary key.\n\nProperties\n----------\n\n**Project ID**: Project of the BigQuery dataset. When running on a Dataproc cluster, this can be left blank,\nwhich will use the project of the cluster.\n\n**Location**: The location where the BigQuery dataset and GCS staging bucket will get created. For example, 'us-east1' \nfor regional bucket, 'us' for multi-regional bucket. A complete list of available locations can be found at \nhttps://cloud.google.com/bigquery/docs/locations. This value is ignored if an existing GCS bucket is specified, as the\nstaging bucket and the BigQuery dataset will be created in the same location as that bucket.   \n\n**Staging Bucket**: GCS bucket to write change events to before loading them into staging tables.\nChanges are written to a directory that contains the replicator name and namespace. It is safe to use\nthe same bucket across multiple replicators within the same instance. If it is shared by replicators across\nmultiple instances, ensure that the namespace and name are unique, otherwise the behavior is undefined.\nThe bucket must be in the same location as the BigQuery dataset. If not provided, new bucket will be created for \neach pipeline named as 'df-rbq-<namespace-name>-<pipeline-name>-<deployment-timestamp>'. Note that user \nwill have to explicitly delete the bucket once the pipeline is deleted.  \n\n**Service Account Key**: The contents of the service account key to use when interacting with GCS and\nBigQuery. When running on a Dataproc cluster, this can be left blank, which will use the service account\nof the cluster.\n\n**Load Interval (seconds)**: Number of seconds to wait before loading a batch of data into BigQuery.\n\n**Staging Table Prefix**: Changes are first written to a staging table before merged to the final table.\nStaging tables names are generated by prepending this prefix to the target table name.\n\n**Require Manual Drop Intervention**: Whether to require manual administrative action to drop tables and\ndatasets when a drop table or drop database event is encountered. When set to true, the replicator will\nnot delete a table or dataset. Instead, it will fail and retry until the table or dataset does not exist.\nIf the dataset or table does not already exist, no manual intervention is required. The event will be\nskipped as normal.\n\n**Dataset Name**: Name of the dataset to be created in the BigQuery. It's optional and by default the dataset\nname is same as source database name. A valid name should only contain letters, numbers, and underscores and\nmaximum length can be 1024. Any invalid chars would be replaced with underscore in the final dataset name and\nany characters exceeds length limit will be truncated.\n\n**Encryption Key Name**: GCP Customer-managed encryption key (CMEK) used to encrypt the resources created by this target. \nEncryption key name should be of the form \"projects/<gcp-project-id>/locations/<key-location>/keyRings/<key-ring-name>/cryptoKeys/<key-name>\".\n\n**Enable Soft Deletes**: Determine whether to enable soft deletes. If set to true, when the delete event\nis received by the target, '_is_deleted' column for the record will be set to true, otherwise record will be deleted\n from the BigQuery table. This configuration is no-op for the sources which generates events out of order, in which\n case records are always soft deleted from the BigQuery table.\n",
    "widgets.bigquery-cdcTarget": "{\n  \"outputs\": [],\n  \"metadata\": {\"spec-version\": \"1.5\"},\n  \"configuration-groups\": [\n    {\n      \"label\": \"Basic\",\n      \"properties\": [{\n        \"name\": \"project\",\n        \"widget-type\": \"textbox\",\n        \"label\": \"Project ID\",\n        \"widget-attributes\": {\"default\": \"auto-detect\"}\n      }]\n    },\n    {\n      \"label\": \"Credentials\",\n      \"properties\": [{\n        \"name\": \"serviceAccountKey\",\n        \"widget-type\": \"securekey-textarea\",\n        \"label\": \"Service Account Key\",\n        \"widget-attributes\": {\"default\": \"auto-detect\"}\n      }]\n    },\n    {\n      \"label\": \"Advanced\",\n      \"properties\": [\n        {\n          \"name\": \"datasetName\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Dataset Name\"\n        },\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"encryptionKeyName\",\n          \"label\": \"Encryption Key Name\",\n          \"widget-attributes\": {\"placeholder\": \"projects/<gcp-project-id>/locations/<key-location>/keyRings/<key-ring-name>/cryptoKeys/<key-name>\"}\n        },\n        {\n          \"name\": \"stagingBucketLocation\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Location\",\n          \"widget-attributes\": {\"default\": \"us\"}\n        },\n        {\n          \"name\": \"stagingBucket\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Staging Bucket\"\n        },\n        {\n          \"name\": \"loadInterval\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Load Interval (seconds)\",\n          \"widget-attributes\": {\"default\": \"90\"}\n        },\n        {\n          \"name\": \"stagingTablePrefix\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Staging Table Prefix\",\n          \"widget-attributes\": {\"default\": \"_staging_\"}\n        },\n        {\n          \"name\": \"requireManualDrops\",\n          \"widget-type\": \"toggle\",\n          \"label\": \"Require Manual Drop Intervention\",\n          \"widget-attributes\": {\n            \"default\": \"false\",\n            \"off\": {\n              \"label\": \"False\",\n              \"value\": \"false\"\n            },\n            \"on\": {\n              \"label\": \"True\",\n              \"value\": \"true\"\n            }\n          }\n        },\n        {\n          \"name\": \"softDeletes\",\n          \"widget-type\": \"toggle\",\n          \"label\": \"Enable Soft Deletes\",\n          \"widget-attributes\": {\n            \"default\": \"false\",\n            \"off\": {\n              \"label\": \"No\",\n              \"value\": \"false\"\n            },\n            \"on\": {\n              \"label\": \"Yes\",\n              \"value\": \"true\"\n            }\n          }\n        }\n      ]\n    }\n  ],\n  \"display-name\": \"BigQuery\",\n  \"icon\": {\n    \"arguments\": {\"data\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAL\\r\\nEwAACxMBAJqcGAAAActpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6\\r\\neD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYg\\r\\neG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4K\\r\\nICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1w\\r\\nPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJo\\r\\ndHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+\\r\\nQWRvYmUgSW1hZ2VSZWFkeTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRh\\r\\ndGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9y\\r\\nZGY6UkRGPgo8L3g6eG1wbWV0YT4KKS7NPQAADlhJREFUaAW1WmmQXFUVPm/rZfZMMhMmZVgSliiC\\r\\nKZKgEoFJhgyKbJYmghSoyCJVVBGxBCsmMJANkc2SolAof0ChFAMFIktBtkGEChCEgEEWjUBJ9pnM\\r\\n1tPdb7t+3339Jj3TPTOdFLk1b97t++4953xnu+e+bkMOuimjtUOsgRYxDnppBQtqd4rq6pBAxFAV\\r\\nTD+0KYsXK0tEHRYAIyVSRsRr5Oh4nyoWioQ7Ow1oSqR9jZrlicwwJTAN01IqDCqmU06YmEYoVuiI\\r\\nbH9xmfE+5xXzLLeueKwiAWKCZ9+lGr18cI8hxncN06waJhRToTPE/eGHE3RGOZAKwyEl6gknaS19\\r\\n4XqjJ+Y9ARUxJ5rQ0aFMWmLO75Xju8HjqVrrUoKAGWT4CtHnxbG4X+m9mA76pE0e5EWe5E0ZJpJz\\r\\n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\\r\\nkERx/gAAAABJRU5ErkJg\"},\n    \"type\": \"inline\"\n  }\n}"
  },
  "parents": ["system:delta-app[0.0.0,1.0.0-SNAPSHOT)"]
}